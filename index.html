<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OKIENAK Premium</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
<style>
/* ===== RESET ===== */
* { margin:0; padding:0; box-sizing:border-box; font-family:'Montserrat', sans-serif; }
body { background:#1e0a3b; color:#eee; display:flex; justify-content:center; align-items:flex-start; min-height:100vh; padding-top:50px; }
a { color:#b497ff; text-decoration:underline; }
.hidden { display:none; }

/* ===== CONTAINER ===== */
.container { width:90%; max-width:800px; background:linear-gradient(135deg, #2a0d57, #5c1faa); padding:2rem; border-radius:20px; box-shadow:0 15px 40px rgba(0,0,0,0.4); }
h1 { text-align:center; color:#d9b3ff; margin-bottom:1rem; letter-spacing:1px; }

/* ===== TABS ===== */
.tab { display:flex; margin-bottom:1rem; }
.tab button { flex:1; padding:0.8rem; border:none; border-radius:15px; background:rgba(255,255,255,0.1); color:#eee; font-weight:600; cursor:pointer; transition:0.3s; }
.tab button.active { background:#a166ff; }

/* ===== FORM ELEMENT ===== */
input, textarea { width:100%; padding:0.8rem; margin-bottom:1rem; border:none; outline:none; border-radius:15px; background:rgba(255,255,255,0.08); color:#fff; font-size:1rem; }
textarea { min-height:120px; resize:none; }
button { width:100%; padding:0.8rem; border:none; border-radius:15px; background:#a166ff; color:#fff; cursor:pointer; font-weight:600; transition:0.3s; }
button:hover { background:#b57aff; }

/* ===== NOTES ===== */
.note { background:rgba(255,255,255,0.1); border-radius:15px; padding:1rem; margin-bottom:1rem; word-wrap:break-word; }
.note a { color:#ffd700; text-decoration:underline; }
.note:hover { background:rgba(255,255,255,0.15); }

/* ===== FOOTER ===== */
footer { text-align:center; margin-top:30px; font-size:0.9rem; color:#ccc; }

/* ===== LOGOUT BUTTON ===== */
#logout { background:#ff4d6d; margin-top:1rem; }
#logout:hover { background:#ff6a88; }

</style>
</head>
<body>

<div class="container" id="authContainer">
  <h1>OKIENAK</h1>
  <div class="tab">
    <button id="loginTab" class="active">Login</button>
    <button id="registerTab">Daftar</button>
  </div>

  <!-- LOGIN -->
  <div id="loginForm">
    <input id="loginEmail" type="text" placeholder="Email">
    <input id="loginPassword" type="password" placeholder="Password">
    <button id="loginBtn">Masuk</button>
  </div>

  <!-- REGISTER -->
  <div id="registerForm" class="hidden">
    <input id="regEmail" type="text" placeholder="Email">
    <input id="regPassword" type="password" placeholder="Password">
    <button id="registerBtn">Daftar</button>
  </div>
</div>

<div class="container hidden" id="noteContainer">
  <h1>Catatan OKIENAK</h1>
  <p>Halo, <span id="userName"></span></p>
  <textarea id="noteInput" placeholder="Tulis catatan baru..."></textarea>
  <button id="addNote">Tambah Catatan</button>
  <div id="notesList"></div>
  <button id="logout">Keluar</button>
</div>

<footer>Â© 2026 OKIENAK | Contact: <a href="mailto:cidmomo19@gmail.com">cidmomo19@gmail.com</a></footer>

<script>
/* ===== ELEMENTS ===== */
const authContainer = document.getElementById("authContainer");
const noteContainer = document.getElementById("noteContainer");
const loginTab = document.getElementById("loginTab");
const registerTab = document.getElementById("registerTab");
const loginForm = document.getElementById("loginForm");
const registerForm = document.getElementById("registerForm");
const loginEmail = document.getElementById("loginEmail");
const loginPassword = document.getElementById("loginPassword");
const loginBtn = document.getElementById("loginBtn");
const regEmail = document.getElementById("regEmail");
const regPassword = document.getElementById("regPassword");
const registerBtn = document.getElementById("registerBtn");
const userName = document.getElementById("userName");
const noteInput = document.getElementById("noteInput");
const addNote = document.getElementById("addNote");
const notesList = document.getElementById("notesList");
const logoutBtn = document.getElementById("logout");

/* ===== TAB SWITCH ===== */
loginTab.addEventListener("click",()=>{
  loginTab.classList.add("active");
  registerTab.classList.remove("active");
  loginForm.classList.remove("hidden");
  registerForm.classList.add("hidden");
});
registerTab.addEventListener("click",()=>{
  registerTab.classList.add("active");
  loginTab.classList.remove("active");
  registerForm.classList.remove("hidden");
  loginForm.classList.add("hidden");
});

/* ===== USERS STORAGE ===== */
function getUsers(){ return JSON.parse(localStorage.getItem("users")||"{}"); }
function saveUsers(users){ localStorage.setItem("users",JSON.stringify(users)); }

/* ===== REGISTER ===== */
registerBtn.addEventListener("click",()=>{
  const email = regEmail.value.trim();
  const pass = regPassword.value.trim();
  if(!email||!pass){ alert("Isi email & password!"); return; }
  let users = getUsers();
  if(users[email]){ alert("Email sudah terdaftar!"); return; }
  users[email] = {password:btoa(pass), notes:[]};
  saveUsers(users);
  alert("Daftar berhasil! Silakan login.");
  regEmail.value=""; regPassword.value="";
  loginTab.click();
});

/* ===== LOGIN ===== */
loginBtn.addEventListener("click",()=>{
  const email = loginEmail.value.trim();
  const pass = loginPassword.value.trim();
  let users = getUsers();
  if(users[email] && atob(users[email].password)===pass){
    localStorage.setItem("loggedIn", email);
    showNotes(email);
  } else { alert("Email atau password salah!"); }
});

/* ===== LOGOUT ===== */
logoutBtn.addEventListener("click",()=>{
  localStorage.removeItem("loggedIn");
  location.reload();
});

/* ===== SHOW NOTES ===== */
function showNotes(email){
  authContainer.classList.add("hidden");
  noteContainer.classList.remove("hidden");
  userName.textContent = email;
  renderNotes();
}

/* ===== RENDER NOTES ===== */
function renderNotes(){
  const email = localStorage.getItem("loggedIn");
  if(!email) return;
  const users = getUsers();
  const notes = users[email].notes||[];
  notesList.innerHTML="";
  notes.forEach((note,i)=>{
    let div = document.createElement("div");
    div.className="note";
    let text = note.replace(/(https?:\/\/[^\s]+)/g,'<a href="$1" target="_blank">$1</a>');
    div.innerHTML = `<p>${text}</p>`;
    notesList.appendChild(div);
  });
}

/* ===== ADD NOTE ===== */
addNote.addEventListener("click",()=>{
  const text = noteInput.value.trim();
  if(!text){ alert("Tulis catatan dulu!"); return; }
  const email = localStorage.getItem("loggedIn");
  let users = getUsers();
  users[email].notes.push(text);
  saveUsers(users);
  noteInput.value="";
  renderNotes();
});

/* ===== AUTO LOGIN ===== */
window.addEventListener("load",()=>{
  const logged = localStorage.getItem("loggedIn");
  if(logged) showNotes(logged);
});
</script>

</body>
</html>
